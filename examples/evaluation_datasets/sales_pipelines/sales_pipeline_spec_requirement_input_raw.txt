{
  "requirements": "``` \n# Sales Pipeline Tracker\n\n**Version:** 1.0.0\n\n## Purpose\nThe purpose of this project is to develop a Sales Pipeline Tracker tailored for a mid-sized B2B technology sales organization. The solution will provide sales representatives and managers with a visual Kanban-style board to track deals through various stages, generate forecast reports, and automate reminders when prospects become unresponsive. This will enhance forecast accuracy and accelerate the sales cycle.\n\n## Project Type\nThis is an internal project designed for authenticated users within the sales organization, including sales representatives and their managers. There are no public or anonymous users involved.\n\n## User Personas\n\n### Sales Representative\n**ID:** 8a3d5f3a-9f7e-4c2e-9b3a-9e2f1a7c5d6b  \n**Description:** Sales representatives are frontline users responsible for managing their sales deals, updating deal stages, and engaging with prospects. They often work remotely or on the road and require mobile-friendly access and intuitive interfaces.  \n**Goals:**\n- **ID:** 1d2f3e4a-5b6c-7d8e-9f0a-1b2c3d4e5f6a  **Text:** Efficiently track and update deals through the sales pipeline using a drag-and-drop Kanban board.  \n- **ID:** 7e8f9a0b-1c2d-3e4f-5a6b-7c8d9e0f1a2b  **Text:** Receive automated nudges when prospects go quiet to proactively re-engage them.  \n- **ID:** 3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f  **Text:** Access the sales pipeline and forecasts on mobile devices while on the road.\n\n### Sales Manager\n**ID:** 2b4c6d8e-0f1a-2b3c-4d5e-6f7a8b9c0d1e  \n**Description:** Sales managers oversee teams of sales representatives, monitor deal progress, and analyze forecast reports to make strategic decisions. They require role-based access to ensure data security and visibility into deal health.  \n**Goals:**\n- **ID:** 4f5e6d7c-8b9a-0c1d-2e3f-4a5b6c7d8e9f  **Text:** Monitor the sales pipeline visually through Kanban boards to identify bottlenecks and deal statuses.  \n- **ID:** 9a0b1c2d-3e4f-5a6b-7c8d-9e0f1a2b3c4d  **Text:** Generate and review forecast reports to improve forecast accuracy by 20%.  \n- **ID:** 5d6e7f8a-9b0c-1d2e-3f4a-5b6c7d8e9f0a  **Text:** Ensure data integrity and enforce role-based access controls for secure information handling.\n\n### System\n**Description:** This is not a human user but represents automated processes that perform background tasks such as triggering workflows, loading external data, processing scheduled jobs, and generating system events without direct user intervention.  \n**Goals:**\n- Automate recurring tasks such as sending nudges when prospects go quiet.  \n- Synchronize data with external systems like Salesforce CRM, Exchange, and Teams.  \n- Trigger time-based workflows to maintain forecast accuracy and sales cycle tracking.  \n- Ensure all customer data storage complies with SOC 2 security standards.\n\n## Problem Statement\nWhen sales data is siloed in spreadsheets with inconsistent entry and poor visibility into deal health, I want to have a unified, visual, and automated sales pipeline tracker, so I can improve forecast accuracy by 20% and shorten the average sales cycle by two weeks.\n\n## Goals and Success Metrics\n- Improve forecast accuracy by 20%, measured by comparing forecast vs actual sales results.  \n- Shorten the average sales cycle by two weeks, tracked through deal stage durations.  \n- Increase user adoption and satisfaction, measured via customer feedback surveys.  \n- Ensure data security compliance with SOC 2 standards, verified through audits.  \n- Reduce manual data entry errors and improve data consistency.\n\n## Additional Context\nThe current sales process relies heavily on siloed spreadsheets, leading to inconsistent data and lack of visibility. The organization requires a modern, integrated solution that supports mobile access for reps on the road and integrates securely with existing systems like Salesforce CRM, Exchange, and Teams. The SOC 2 compliance requirement is critical due to handling sensitive customer information.\n\n## Core Features\n**Must-Haves:**  \n1. Visual Kanban-style board with drag-and-drop functionality for deal stage management.  \n2. Role-based access control to ensure secure data access for sales reps and managers.  \n3. Automated nudges/notifications when prospects become unresponsive.  \n4. Forecast reporting tools to analyze pipeline and sales projections.  \n5. Mobile-friendly user interface for sales representatives in the field.  \n6. Integration with Salesforce CRM for contact and opportunity data synchronization.  \n7. Integration with Exchange for calendar synchronization.  \n8. Integration with Microsoft Teams for notifications and alerts.  \n9. Secure data storage compliant with SOC 2 standards.\n\n**Nice-to-Haves:**  \n1. Customizable Kanban board views and filters.  \n2. Advanced analytics and dashboards for sales performance insights.  \n3. Offline access capabilities for mobile users.  \n4. Additional integrations with other communication or CRM tools.\n\n## User Stories\n- As a Sales Representative, I want to drag and drop deals between stages on a Kanban board, so I can easily update deal progress.  \n- As a Sales Manager, I want to generate forecast reports, so I can assess team performance and make informed decisions.  \n- As a Sales Representative, I want to receive automated reminders when a prospect has not been contacted for a set period, so I can re-engage them promptly.  \n- As a System, I want to synchronize contact and opportunity data from Salesforce CRM daily, so the sales pipeline reflects the latest information.  \n- As a System, I want to send notifications to Microsoft Teams channels when deals move to critical stages, so the team stays informed.  \n- As a Sales Representative, I want to access the sales pipeline on my mobile device, so I can manage deals while traveling.  \n- As a Sales Manager, I want to control access permissions based on roles, so sensitive data is protected.\n\n## External Systems\n\n### Salesforce CRM\n**ID:** 7f6e5d4c-3b2a-1908-7f6e-5d4c3b2a1908  \n**Description:** Salesforce CRM provides contact and opportunity data essential for managing the sales pipeline. Integration ensures data consistency and reduces manual entry.  \n**Goals:**\n- **ID:** 1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d  **Text:** Synchronize contact and opportunity data to keep the sales pipeline current.  \n- **ID:** 7b8c9d0e-1f2a-3b4c-5d6e-7f8a9b0c1d2e  **Text:** Reduce data entry duplication and errors by automating data flow.\n\n### Microsoft Exchange\n**ID:** 5e4d3c2b-1a09-8f7e-6d5c-4b3a29180706  \n**Description:** Exchange is used for calendar synchronization to align sales activities and meetings with deal stages.  \n**Goals:**\n- **ID:** 3c2b1a09-8f7e-6d5c-4b3a-291807065e4d  **Text:** Sync sales-related calendar events to ensure timely follow-ups.  \n- **ID:** 9f8e7d6c-5b4a-3928-1706-5e4d3c2b1a09  **Text:** Provide visibility of scheduled meetings related to deals.\n\n### Microsoft Teams\n**ID:** 0a1b2c3d-4e5f-6a7b-8c9d-0e1f2a3b4c5d  \n**Description:** Teams is used for sending notifications and alerts to sales teams to improve communication and responsiveness.  \n**Goals:**\n- **ID:** 6a7b8c9d-0e1f-2a3b-4c5d-0a1b2c3d4e5f  **Text:** Deliver real-time notifications about deal status changes.  \n- **ID:** 1f2a3b4c-5d6e-7f8a-9b0c-1d2e3f4a5b6c  **Text:** Enhance team collaboration through timely alerts.\n\n## Entities\n- **Deal:** Represents a sales opportunity with attributes such as stage, value, expected close date, and associated contacts.  \n- **Sales Representative:** User entity representing individual salespeople managing deals.  \n- **Sales Manager:** User entity representing managers overseeing sales teams.  \n- **Forecast Report:** Aggregated data entity summarizing expected sales outcomes.  \n- **Notification:** Automated messages triggered by system events, such as prospect inactivity.  \n- **Contact:** Customer or prospect information synchronized from Salesforce CRM.  \n- **Calendar Event:** Scheduled meetings or calls related to deals, synchronized from Exchange.  \n- **User Role:** Defines access permissions for different user types.  \n\n---\n\n**Note:** Additional details on specific workflow automation rules, data synchronization frequency, and security implementation will be refined in follow-up sessions.\n```",
  "messages": [],
  "systemPrompt": "You are a data modeling expert. Your task is to generate detailed table specifications in Markdown format based on the solution requirements provided, adhering strictly to the defined Zod schemas.",
  "userPrompt": "<context>\n## Requirements\n{requirements}\n\n## Table Schema Definition (Zod)\n```json\n{{\n  \"name\": {{\n    \"_def\": {{\n      \"checks\": [],\n      \"typeName\": \"ZodString\",\n      \"coerce\": false,\n      \"description\": \"Name of the table, unique to the solution specifications\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"id\": {{\n    \"_def\": {{\n      \"checks\": [],\n      \"typeName\": \"ZodString\",\n      \"coerce\": false,\n      \"description\": \"An id that remains largely unchanged through revisions.\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"version\": {{\n    \"_def\": {{\n      \"checks\": [],\n      \"typeName\": \"ZodString\",\n      \"coerce\": false,\n      \"description\": \"Semantic Versioning (MAJOR.MINOR.PATCH)\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"description\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"checks\": [],\n              \"typeName\": \"ZodString\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"A brief description of the purpose of the table\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"additionalInfo\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"checks\": [],\n              \"typeName\": \"ZodString\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\",\n          \"description\": \"Additional information about the table specifications\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Additional information about the table specifications\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"permissions\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"unknownKeys\": \"strip\",\n              \"catchall\": {{\n                \"_def\": {{\n                  \"typeName\": \"ZodNever\"\n                }},\n                \"~standard\": {{\n                  \"version\": 1,\n                  \"vendor\": \"zod\"\n                }}\n              }},\n              \"typeName\": \"ZodObject\"\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }},\n            \"_cached\": null\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Permissions for the table. Each permission is an array of role names that      can perform the action on the table. If no permissions are specified, all      roles have access.\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"fields\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"type\": {{\n                \"_def\": {{\n                  \"unknownKeys\": \"strip\",\n                  \"catchall\": {{\n                    \"_def\": {{\n                      \"typeName\": \"ZodNever\"\n                    }},\n                    \"~standard\": {{\n                      \"version\": 1,\n                      \"vendor\": \"zod\"\n                    }}\n                  }},\n                  \"typeName\": \"ZodObject\"\n                }},\n                \"~standard\": {{\n                  \"version\": 1,\n                  \"vendor\": \"zod\"\n                }},\n                \"_cached\": null\n              }},\n              \"minLength\": null,\n              \"maxLength\": null,\n              \"exactLength\": null,\n              \"typeName\": \"ZodArray\"\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Array of fields in the table\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }}\n}}\n```\n\n## Field Schema Definition (Zod)\n```json\n{{\n  \"name\": {{\n    \"_def\": {{\n      \"checks\": [],\n      \"typeName\": \"ZodString\",\n      \"coerce\": false,\n      \"description\": \"System Name of the field, must be lowercase use _ for spaces\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"displayName\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"checks\": [],\n              \"typeName\": \"ZodString\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Display Name of the field\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"isPrimaryKey\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"typeName\": \"ZodBoolean\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Is this field a primary key\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"isDisplay\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"typeName\": \"ZodBoolean\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Is this field displayed\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"type\": {{\n    \"_def\": {{\n      \"values\": [\n        \"CHECKBOX\",\n        \"CURRENCY\",\n        \"DATE\",\n        \"DATETIME\",\n        \"EMAIL\",\n        \"NUMBER\",\n        \"PERCENT\",\n        \"TEXT\",\n        \"TEXTAREA\",\n        \"URL\",\n        \"PICKLIST\",\n        \"REFERENCE\",\n        \"UUID\"\n      ],\n      \"typeName\": \"ZodEnum\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"options\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"type\": {{\n                \"_def\": {{\n                  \"checks\": [],\n                  \"typeName\": \"ZodString\",\n                  \"coerce\": false\n                }},\n                \"~standard\": {{\n                  \"version\": 1,\n                  \"vendor\": \"zod\"\n                }}\n              }},\n              \"minLength\": null,\n              \"maxLength\": null,\n              \"exactLength\": null,\n              \"typeName\": \"ZodArray\"\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Only required when type is PICKLIST\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }},\n  \"referanceTo\": {{\n    \"_def\": {{\n      \"innerType\": {{\n        \"_def\": {{\n          \"innerType\": {{\n            \"_def\": {{\n              \"checks\": [],\n              \"typeName\": \"ZodString\",\n              \"coerce\": false\n            }},\n            \"~standard\": {{\n              \"version\": 1,\n              \"vendor\": \"zod\"\n            }}\n          }},\n          \"typeName\": \"ZodNullable\"\n        }},\n        \"~standard\": {{\n          \"version\": 1,\n          \"vendor\": \"zod\"\n        }}\n      }},\n      \"typeName\": \"ZodOptional\",\n      \"description\": \"Table name that this is a child of, Only required when type is REFERENCE\"\n    }},\n    \"~standard\": {{\n      \"version\": 1,\n      \"vendor\": \"zod\"\n    }}\n  }}\n}}\n```\n\n**Field Type Enum Values:** CHECKBOX, CURRENCY, DATE, DATETIME, EMAIL, NUMBER, PERCENT, TEXT, TEXTAREA, URL, PICKLIST, REFERENCE, UUID\n</context>\n\n<instructions>\nCreate a comprehensive table specification based on the requirements provided above.\n\nFollow these steps:\n1.  Analyze the requirements to identify necessary data entities and their attributes.\n2.  For each entity, define a table structure adhering strictly to the 'Table Schema Definition'.\n    *   Provide `name`, `id`, `version`.\n    *   Include `description` and `additionalInfo` where relevant.\n    *   Define `permissions` by listing role names for `read`, `write`, `delete`, `create`.\n3.  Define the `fields` array for each table, ensuring each field object conforms strictly to the 'Field Schema Definition'.\n    *   `name`: System name (lowercase_with_underscores).\n    *   `displayName`: User-friendly name.\n    *   `isPrimaryKey`: Boolean.\n    *   `isDisplay`: Boolean.\n    *   `type`: Must be one of the allowed enum values.\n    *   `options`: Array of strings, required *only* if type is 'PICKLIST'.\n    *   `referanceTo`: String (table name), required *only* if type is 'REFERENCE'.\n4.  Format the output as Markdown, clearly presenting each table and its fields. Use the format provided below.\n\nYour specification must be precise and directly usable for implementation based on the schemas.\n</instructions>\n\n<format>\n# Table: [Table Name]\n\n## Overview\n**ID:** [unique-identifier]\n**Version:** [semantic version]\n**Description:** [Optional: Table purpose]\n**Additional Info:** [Optional: Supplementary details]\n\n## Permissions\n- **Read:** [Role1, Role2]\n- **Write:** [Role1]\n- **Delete:** [Role3]\n- **Create:** [Role1, Role2]\n\n## Fields\n| Name (System) | Display Name | Type       | Primary Key | Display Field | Options/Reference | Description |\n|---------------|--------------|------------|-------------|---------------|-------------------|-------------|\n| [field_name]  | [Field Name] | [TYPE]     | [true/false]| [true/false]  | [Options/RefTable]| [Purpose]   |\n| ...           | ...          | ...        | ...         | ...           | ...               | ...         |\n\n--- *(Repeat for each table)* ---\n</format>"
}